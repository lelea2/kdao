"use strict";var RSSignupBrokerageInvite=function(e){return React.createClass({displayName:"RSSignupBrokerageInvite",setInitialData:function(){this.REESIO_SIGNUP="Create an account to join this brokerage.",this.JOIN_BROKERAGE="<p><strong>Welcome!</strong></p><p>Thank you for creatig an account. Now you can join others in your brokerage who are using Reesio to manage their transactions.</p>",this.DEFAULT_LIMIT_MEMBERS_DISLAY=20},getInitialState:function(){return this.setInitialData(),{invitation_code:""}},componentDidMount:function(){e(ReactDOM.findDOMNode(this.refs.member)).tooltip()},renderMessage:function(){var e="invite"===this.props.action?this.REESIO_SIGNUP:this.JOIN_BROKERAGE;return React.createElement("div",{className:"message "+this.props.action,dangerouslySetInnerHTML:{__html:e}})},renderBrokerageMembers:function(){var e,t=this.props.brokerage_members||[],a=this.props.members_display||this.DEFAULT_LIMIT_MEMBERS_DISLAY;return e=t.map(function(e,t){if(t<a)return React.createElement("li",{key:t,ref:"member","data-placement":"bottom","data-toggle":"tooltip","data-original-title":e.first_name+" "+e.last_name},React.createElement(RSImage,{alt:"",src:e.avatar.url}))}),React.createElement("div",{className:"brokerage-members"},React.createElement("p",{className:"subtitle"},t.length," member(s) have joined this brokerage."),React.createElement("ul",null,e))},handleShowSignup:function(){e(document).trigger("reesio:show_signup_slide")},handleSwitchBrokerage:function(){e(document).trigger("reesio:signup_switch_brokerage")},renderCTAGroup:function(){return"invite"===this.props.action?React.createElement("div",{className:"cta-group"},React.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.handleShowSignup},"Create Account"),React.createElement("button",{className:"btn btn-transparent",type:"button",onClick:this.handleSwitchBrokerage},"Already have a Reesio account?")):React.createElement("form",{noValidate:!0,className:"cta-group",method:"post",action:"/brokerages/"+this.props.brokerage.id+"/sign-ups"},React.createElement("input",{type:"hidden",value:this.props.authenticity_token,name:"authenticity_token"}),React.createElement("button",{className:"btn btn-primary",type:"submit",onClick:this.handleJoinBrokerage},"Join Brokerage"))},render:function(){var e=this.props.brokerage||{};return React.createElement("div",{className:"mod-signup-brokerage-invite"},React.createElement("div",{className:"heading"},React.createElement(RSImage,{alt:"",src:e.logo.url}),React.createElement("h3",null,e.name),React.createElement("p",{className:"address"},e.address+" "+e.city+", "+e.state+", "+e.zip)),React.createElement("div",{className:"content"},this.renderMessage(),this.renderBrokerageMembers(),this.renderCTAGroup()))}})}(RS_jQuery);