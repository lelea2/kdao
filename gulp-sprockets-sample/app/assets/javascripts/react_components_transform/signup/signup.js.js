"use strict";var RSSignup=function(e){return React.createClass({displayName:"RSSignup",setInitialData:function(){var e=REESIO.utility;this.isEmpty=e.isEmpty,this.isValidEmail=e.isValidEmail,this.isValidPassword=e.isValidPassword,this.HEADING="Create An Account",this.moduleName="mod-signup"},getInitialState:function(){return this.setInitialData(),{user_fistname:"",user_lastname:"",user_email:"",user_phone:"",user_password:"",valid_form:!1,showState:"",visible:"",err:{user_firstname:"hidden",user_lastname:"hidden",user_email:"hidden",user_phone:"hidden",user_password:"hidden"}}},componentDidMount:function(){this.setState({showState:this.props.showState||!1}),e(document).bind("reesio:show_signup",this.showSignup),e(document).bind("reesio:show_signup_slide",this.show),e(document).bind("reesio:show_signup_popup",this.showDialog)},showDialog:function(){this.refs.signup&&this.refs.signup.showDialog()},show:function(){this.setState({visible:"visible"})},hide:function(){this.setState({visible:""})},callbackParent:function(e){this.setState(e,this.validateForm)},validateForm:function(){this.isEmpty(this.state.user_firstname)||this.isEmpty(this.state.user_lastname)||!this.isValidEmail(this.state.user_email)||this.isEmpty(this.state.user_phone)||!this.isValidPassword(this.state.user_password)?this.setState({valid_form:!1}):this.setState({valid_form:!0})},showSignup:function(){this.setState({showState:""})},showSignin:function(){this.props.signin_newpage===!1&&(this.setState({showState:"hidden"}),e(document).trigger("reesio:show_signin"))},handleFormSubmit:function(e){this.state.valid_form===!1&&(e.preventDefault(),this.setState({err:{user_firstname:this.isEmpty(this.state.user_firstname)?"":"hidden",user_lastname:this.isEmpty(this.state.user_lastname)?"":"hidden",user_email:this.isValidEmail(this.state.user_email)?"hidden":"",user_phone:this.isEmpty(this.state.user_phone)?"":"hidden",user_password:this.isValidPassword(this.state.user_password)?"hidden":""}}))},renderInputField:function(e,t,s,i,a,n,r){return React.createElement(RSInput,{inputClass:"rs-input",errText:r,label:e,err_hidden:this.state.err[i],required:n,placeholder:t,name:a,callbackParent:this.callbackParent,type:s,id:i,defaultValue:this.state[i]})},renderContent:function(){return React.createElement("form",{noValidate:!0,action:"/users",method:"POST",autoComplete:"off",onSubmit:this.handleFormSubmit},React.createElement("input",{type:"hidden",name:"authenticity_token",value:this.props.authenticity_token}),this.renderInputField("First Name","Enter First Name","text","user_firstname","user[first_name]",!0),this.renderInputField("Last Name","Enter Last Name","text","user_lastname","user[last_name]",!0),this.renderInputField("Email","Enter Email","email","user_email","user[email]",!0,"Please enter valid email."),this.renderInputField("Phone","Enter Phone","tel","user_phone","user[phone]",!0,"Please enter valid phone"),this.renderInputField("Password","Enter Password","password","user_password","user[password]",!0,"Password has to be at least 6 characters long."),React.createElement("input",{id:"user_joined_from",name:"user[joined_from]",type:"hidden",value:this.props.joined_from||"homepage"}),React.createElement("input",{id:"user_onyx_tracking",name:"user[onyx_tracking]",type:"hidden",value:REESIO.utility.getParamVal("onyx_tracking")||"enabled"}),React.createElement("p",null,"By clicking Get Started Today, you agree to Reesio's ",React.createElement("a",{href:"/terms_of_service",target:"_blank"},"Terms of Service.")),React.createElement("div",{className:"form-group"},React.createElement("button",{type:"submit",id:"#btn_home_signup",className:"btn btn-lg btn-primary"},"Get Started Today")),React.createElement("p",null,"Already have an account? ",React.createElement("a",{href:this.props.signin_link,onClick:this.showSignin},"Log In")," to your account now!"))},render:function(){var e=this.renderContent();return this.props.slide===!0?React.createElement(RSOverlay,{moduleName:this.moduleName+" fixed-header",id:"new_user",visible:this.state.visible,direction:this.props.direction,title:this.HEADING,onClose:this.hide},e):this.props.popup===!0?React.createElement(RSDialog,{moduleName:this.moduleName,ref:"signup",title:this.HEADING,modalBody:e,closeOnResize:!0}):React.createElement("div",{className:this.moduleName+" in-page "+this.state.showState,id:"new_user"},e)}})}(RS_jQuery);